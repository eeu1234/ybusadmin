<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="android">

   
   <!-- 기기고유번호로 seq 찾기 -->
   <select id ="deviceSeq" parameterType="String" resultType="String">
      SELECT * FROM DEVICE WHERE DEVICEMODEL = #{deviceId};
   </select>
   
   
   <!-- 기기고유번호로 인터벌시간 찾기 -->
   <select id ="deviceIntervalTime" parameterType="String" resultType="String">
      SELECT A.DEVICESEQ as deviceSeq, E.BUSSTOPDETAILCATEGORYINTERVAL as busStopDetailCategoryInterval FROM DEVICE  A 
		INNER JOIN DEVICE_BUS B ON B.DEVICESEQ = A.DEVICESEQ
			INNER JOIN BUS_INFO C ON B.BUSINFOSEQ = C.BUSINFOSEQ
				INNER JOIN BUS_INTERVAL D ON C.BUSINFOSEQ = D.BUSINFOSEQ
					INNER JOIN BUSSTOP_DETAIL_CATEGORY E ON D.BUSSTOPDETAILCATEGORYSEQ = E.BUSSTOPDETAILCATEGORYSEQ
						WHERE A.DEVICEMODEL=#{deviceId};
   </select>
   


	<insert id="busData" parameterType="com.test.spring.dto.LocationDTO" >
		INSERT INTO LOCATION (LOCATIONLATITUDE,LOCATIONLONGITUDE,DEVICESEQ) VALUES (#{locationLatitude}, #{locationLongitude}, #{deviceSeq});
	</insert>

	
   
</mapper>








